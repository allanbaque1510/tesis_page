import{r as o,b as g,j as t,c as s,d as r,e as i}from"./index-21055db3.js";import{D as b}from"./DraggerComponent-51565c63.js";import{E as n}from"./ExcelService-9f11adce.js";import{C as E,T as D}from"./index-7fa0c08c.js";import{T as v}from"./Table-99b5c404.js";import"./row-36c7c26f.js";import"./context-1fc4877a.js";import"./useForceUpdate-c784bdaf.js";import"./EyeOutlined-6816cc68.js";import"./styleChecker-2da1bf7b.js";import"./scrollTo-c5b2038a.js";import"./BaseInput-9763bb7b.js";import"./index-680fd5a3.js";import"./TextArea-1e7806d6.js";const H=()=>{const[c,l]=o.useState(null),[d,m]=o.useState([]),a=g(),p=e=>{l(e)},u=[{align:"center",key:"carrera",dataIndex:"carrera",title:"Carrera"},{align:"center",key:"periodo",dataIndex:"periodo",title:"Periodo"},{align:"center",key:"fecha",dataIndex:"fecha",title:"Fecha creacion"},{align:"center",key:"accion",dataIndex:"accion",title:"AcciÃ³n"}],h=()=>{a(s()),n.historialReporteNominaCarreraDocenteMateria().then(e=>{e.data.ok&&m(e.data.data)}).catch(e=>{console.log(e.response.data),a(r({success:!1,title:"Error al obtener el historial",message:e.response.data.error}))}).finally(()=>{a(i())})};o.useEffect(()=>{h()},[]);const f=()=>{a(s()),n.registrarDatosExcelNominaEstudiantesPeriodo({file:c}).then(e=>{a(r({success:!0,title:"Registro subido exitosamente!"}))}).catch(e=>{console.log(e),a(r({success:!1,title:"Error al cargar datos del excel",message:e.response.data.error}))}).finally(()=>{a(i())})},x=[{key:"1",label:"Subir Documento",children:t.jsx(b,{onArchivoChange:p,funcionEnviarDatos:f})},{key:"2",label:"Archivos subidos",children:t.jsx(v,{dataSource:d,columns:u})}];return t.jsxs("div",{children:[t.jsx("h2",{children:"Documentos del reporte de nomina de estudiantes por periodo"}),t.jsx(E,{children:t.jsx(D,{items:x})})]})};export{H as default};
